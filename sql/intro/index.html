<!DOCTYPE html>
<html lang="ru">
	<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5">
	<meta name="description" content="IT простым языком">
	<meta name="generator" content="HUGO">

	<meta name="theme-color" content="#ffffff">

    
    <link rel="stylesheet" href="/sass/main.min.2410c89c79b6e042a424a6cef6ba5cbff430844ddffbec9f142931da8c515642.css" integrity="sha256-JBDInHm24EKkJKbO9rpcv/QwhE3f&#43;&#43;yfFCkx2oxRVkI=">
    <title> IT простым языком </title>
</head>

<body>
	<div id="top"/>
<header>
    <div align="center">
        +---------------------------+<br>
        |.-------------------------.|<br>
        ||&nbsp;<a href="/">kee_reel@blog</a>:~$ cd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;||<br>
        ||&nbsp;<a href="/c">c</a>&nbsp;&nbsp;<a href="/cpp">c++</a>&nbsp;&nbsp;<a href="/python">python</a>&nbsp;&nbsp;<a href="/linux">linux</a>&nbsp;&nbsp;&nbsp;||<br>
        ||&nbsp;<a href="/opengl">opengl</a>&nbsp;&nbsp;<a href="/sql">sql</a>&nbsp;&nbsp;<a href="/network">networks</a>&nbsp;&nbsp;&nbsp;||<br>
        ||&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;||<br>
        ||&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="/about">обо_мне</a>&nbsp;||<br>
        |.-------------------------.|<br>
        +-::---------------------::-+<br>
        .---------------------------.<br>
        &nbsp;//&nbsp;/o<a href="/links">o</a>oooooooooooooooooooo\\&nbsp;\\&nbsp;<br>
        &nbsp;//&nbsp;/oooooooooooooooooooooooo\\&nbsp;\\&nbsp;<br>
        //-------------------------------\\<br>
        \\-------------------------------//<br>
    </div>
    <hr>
</header>

		
	<div id="wrapper">
		<div class="container">
			<section id="main_content">
    
    
    <h1>SQL. Основы и установка окружения</h1>
    
    
        <h3>Время чтения: 6 мин</h3>
    
    <p>Привет, в этой статье я расскажу что такое SQL, и зачем он нужен и как его применять.</p>
<hr>
<p>Наверно не стоит объяснять, что вся наша цивилизация держится на информации &ndash; чем больше больше у тебя ценной информации, тем больше у тебя возможноcтей.</p>
<p><img src="/assets/images/sql-world-in-data.png" alt="Данные, данные повсюду&amp;hellip;"></p>
<p>Скорее всего, ты хранишь и используешь для личных нужд небольшие объёмы структурированной информации &ndash; пара списков &ldquo;TO DO&rdquo; здесь, пара документов с идеями там &ndash; её объёмы не выходят за несколько гигабайт.</p>
<p>Но что, если тебе понадобится хранить номера и описание всех автомобилей, которые проезжали мимо тебя, или персональные данные всех клиентов крупного банка?</p>
<p>При этом, ты должен будешь периодически искать во всей этой информации определённые записи &ndash; например номера всех красных автомобилей Honda или всех клиентов банка с доходом от 100 тысяч рублей.</p>
<p>Тут уже объём информации становится таким, что ты физически не сможешь просмотреть все записи за адекватные сроки.</p>
<p>Что же делать, если у тебя возникла такая ситуация?</p>
<h1 id="sql-база-данных-и-запросы-в-неё">SQL, база данных и запросы в неё</h1>
<h3 id="sql-structured-query-language----это-язык-на-котором-можно-описать-запрос-в-базу-данных"><strong>SQL, Structured Query Language</strong> &ndash; это язык, на котором можно описать <strong>запрос</strong> в <strong>базу данных</strong>.</h3>
<h3 id="база-данных----это-коллекция-определённых-данных-хранящаяся-в-электронном-виде-представь-что-это-просто-файл-с-хитрой-внутренней-структурой"><strong>База данных</strong> &ndash; это коллекция определённых данных, хранящаяся в электронном виде. Представь что это просто файл с хитрой внутренней структурой.</h3>
<h3 id="запрос----это-описание-действия-которое-надо-совершить-над-данными-в-основном-эти-действия-связаны-с-получением-добавлением-изменением-или-удалением-данных"><strong>Запрос</strong> &ndash; это описание действия, которое надо совершить над данными. В основном эти действия связаны с получением, добавлением, изменением или удалением данных.</h3>
<p>Я уже приводил выше пример запроса: &ldquo;найти номера всех красных автомобилей Honda&rdquo;.</p>
<p>Такой запрос определяет:</p>
<ul>
<li>Какие данные мы хотим получить: &ldquo;номера&rdquo;</li>
<li>И определяет дополнительные свойства, которые должны быть связаны с этими данными: &ldquo;красные&rdquo; и &ldquo;Honda&rdquo;</li>
</ul>
<p>В результате такого запроса мы получим номера всех автомобилей обладающих двумя свойствами: &ldquo;красные&rdquo; и &ldquo;Honda&rdquo;.</p>
<p>Сейчас я напишу точно такой же запрос, но на SQL. К нашему счастью, SQL это декларативный язык &ndash; это значит, что мы описываем результат, и получаем его, не заморачиваясь техническими деталями реализации. Вот так он выглядит:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> plate_number <span style="color:#66d9ef">FROM</span> cars <span style="color:#66d9ef">WHERE</span> color<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;red&#34;</span> <span style="color:#66d9ef">AND</span> brand<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Honda&#34;</span>;
</span></span></code></pre></div><p>Результат такого запроса:</p>
<table>
<thead>
<tr>
<th>plate_numer</th>
</tr>
</thead>
<tbody>
<tr>
<td>Е 100 ЕЕ</td>
</tr>
<tr>
<td>А 781 ХА</td>
</tr>
</tbody>
</table>
<p>Сейчас я переведу этот запрос на русский, чтобы стало супер-понятно:</p>
<p>| SQL | Русский |
|&mdash;&mdash;&mdash;&mdash;&mdash;|
| SELECT | сделать выборку по |
| plate_number |  номеру |
| FROM | из |
| cars | таблицы &ldquo;машины&rdquo; |
| WHERE | где |
| color=&ldquo;red&rdquo; | цвет=&ldquo;красный&rdquo; |
| AND | и |
| brand=&ldquo;Honda&rdquo; | бренд=&ldquo;Honda&rdquo; |
| ; | точка с запятой всегда в конце запроса |</p>
<p>Вроде всё понятно, но не понятно что такое <strong>таблица</strong> cars и откуда вообще взялись color и brand &ndash; они сами что-ли выставляются?</p>
<h1 id="таблицы-и-их-создание">Таблицы и их создание</h1>
<h3 id="таблица----это-основной-элемент-хранения-структурированных-данных-в-базе-данных-в-одной-базе-данных-может-храниться-множество-таблиц-вот-пример-создания-таблицы"><strong>Таблица</strong> &ndash; это основной элемент хранения структурированных данных в базе данных. В одной базе данных может храниться множество таблиц. Вот пример создания таблицы:</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">CREATE</span> <span style="color:#66d9ef">TABLE</span> <span style="color:#e6db74">&#34;cars&#34;</span> (
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;plate_number&#34;</span>	TEXT,
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;color&#34;</span>		TEXT,
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;brand&#34;</span>		TEXT,
</span></span><span style="display:flex;"><span>	<span style="color:#e6db74">&#34;times_seen&#34;</span>	INTEGER <span style="color:#66d9ef">DEFAULT</span> <span style="color:#ae81ff">0</span>,
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">PRIMARY</span> <span style="color:#66d9ef">KEY</span>(<span style="color:#e6db74">&#34;plate_number&#34;</span>)
</span></span><span style="display:flex;"><span>);
</span></span></code></pre></div><p>Здесь мы создаём таблицу с названием &ldquo;cars&rdquo; и перечисляем <strong>поля</strong> этой таблицы:</p>
<ul>
<li>plate_number &ndash; номер автомобиля</li>
<li>color &ndash; его цвет</li>
<li>brand &ndash; его марка</li>
<li>times_seen &ndash; количество раз, которое мы его видели</li>
</ul>
<p>Также в конце мы указываем &ldquo;PRIMARY KEY&rdquo; &ndash; поле, значения которого должны быть уникальны во всей таблице. Это необходимо для того, чтобы база данных ругалась, если мы попытаемся добавить машину с номером, который уже существует в базе &ndash; это помогает избежать дублирования записей.</p>
<h3 id="поле----это-колонка-в-таблице-она-описывает-одно-из-свойств-данных-содержащихся-в-таблице----например-цвет-машины"><strong>Поле</strong> &ndash; это колонка в таблице. Она описывает одно из свойств данных, содержащихся в таблице &ndash; например цвет машины.</h3>
<p>Окей, так мы создали таблицу, а до этого мы запрашивали данные из неё через SELECT. А как эти данные там оказались?</p>
<h1 id="добавление-записей-в-таблицу">Добавление записей в таблицу</h1>
<h3 id="запись----это-строчка-в-таблице-запись-состоит-из-набора-полей----например-это-одна-запись-из-таблицы-cars"><strong>Запись</strong> &ndash; это строчка в таблице. Запись состоит из набора полей &ndash; например это одна запись из таблицы cars:</h3>
<p>| plate_number | color | brand | times_seen |
|&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-|
|Е 100 ЕЕ      |red    |Honda  |4           |</p>
<p>Чтобы добавить новую запись в таблицу, нужно написать такой запрос:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> cars(plate_number, color, brand, times_seen) <span style="color:#66d9ef">VALUES</span>(<span style="color:#e6db74">&#34;Х 777 ХХ&#34;</span>, <span style="color:#e6db74">&#34;green&#34;</span>, <span style="color:#e6db74">&#34;Nisan&#34;</span>, <span style="color:#ae81ff">1</span>);
</span></span></code></pre></div><p>Если все поля в VALUES указываются в том же порядке, в котором они описаны в таблице, то можно не прописывать сами поля:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">INSERT</span> <span style="color:#66d9ef">INTO</span> cars <span style="color:#66d9ef">VALUES</span>(<span style="color:#e6db74">&#34;Х 777 ХХ&#34;</span>, <span style="color:#e6db74">&#34;green&#34;</span>, <span style="color:#e6db74">&#34;Nissan&#34;</span>, <span style="color:#ae81ff">1</span>);
</span></span></code></pre></div><p>Но это добавление новых записей &ndash; после добавления ты наверняка будешь их как-то изменять.</p>
<h1 id="изменение-записей-в-таблице">Изменение записей в таблице</h1>
<p>Чтобы изменить существующую запись надо написать такой запрос:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">UPDATE</span> cars <span style="color:#66d9ef">SET</span> brand <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Nissan&#34;</span> <span style="color:#66d9ef">WHERE</span> plate_number <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Х 777 ХХ&#34;</span>;
</span></span></code></pre></div><p>Ещё ты можешь прямо при обновлении опираться на существующие значения полей &ndash; например так я могу увеличить на 1 текущее значения поля times_seen:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">UPDATE</span> cars <span style="color:#66d9ef">SET</span> times_seen <span style="color:#f92672">=</span> times_seen <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> <span style="color:#66d9ef">WHERE</span> plate_number <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Х 777 ХХ&#34;</span>;
</span></span></code></pre></div><p>Так&hellip; осталось только изучить удаление, и ты изучишь <strong>все</strong> основные виды SQL запросов.</p>
<h1 id="удаление-записей-из-таблицы">Удаление записей из таблицы</h1>
<p>Чтобы удалить какую-то запись из таблицы надо написать такой запрос:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">DELETE</span> <span style="color:#66d9ef">FROM</span> cars <span style="color:#66d9ef">WHERE</span> plate_number <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Х 777 ХХ&#34;</span>;
</span></span></code></pre></div><p>Ты можешь удалять не только конкретные записи по уникальному полю, но и сразу множество записей по какому-то значению в определённом поле (так же относится к SELECT и UPDATE):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#66d9ef">DELETE</span> <span style="color:#66d9ef">FROM</span> cars <span style="color:#66d9ef">WHERE</span> color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;green&#34;</span>;
</span></span></code></pre></div><h1 id="субд">СУБД</h1>
<p>Сама база данных является просто файлом с хитрой структурой, и чтобы с нем работать нужна специальная программа &ndash; СУБД.</p>
<h3 id="субд----система-управления-базой-данных-её-ты-как-раз-и-скармливаешь-свои-запросы-на-sql-а-она-тебя-понимает-и-что-то-изменяет-в-самом-файле-базы-данных"><strong>СУБД</strong> &ndash; система управления базой данных. Её ты как раз и скармливаешь свои запросы на SQL, а она тебя понимает и что-то изменяет в самом файле базы данных.</h3>
<p>Есть два основных типа СУБД:</p>
<ul>
<li>Клиент-серверные &ndash; серверное приложение, работающее с файлом базы данных, к которому через интернет подключаются пользователи
<ul>
<li>MySQL</li>
<li>PostgreSQL</li>
<li>Firebird</li>
</ul>
</li>
<li>Встраиваемые &ndash; библиотека, встроенная в клиентское приложение, которая предоставляет возможности работы с файлом базы данных прямо на устройстве пользователя
<ul>
<li>SQLite</li>
<li>Firebird Embedded</li>
<li>eXtremeDB</li>
</ul>
</li>
</ul>
<p>Кроме отличий в функциональности и реализации, в различных СУБД могут отличаться некоторые конструкции языка SQL. Но в целом, изучив SQL один раз, можно без затруднений переходить между различными СУБД.</p>
<blockquote>
<p>Тема выбора конкретной СУБД довольно сложная и её мы касаться пока не будем. В будущих статьях я подробнее расскажу об этом.</p>
</blockquote>
<p>В рамках этой статьи мы попробуем поработать со встраиваемой СУБД SQLite. Сделаем это мы через программу SQLiteBrowser, в которую встроена СУБД SQLite, и которая предоставляет достаточно удобный пользовательский интерфейс для управления базой данных.</p>
<p>Скачай и установи её для своей операционной системы: <a href="https://sqlitebrowser.org/dl/">sqlitebrowser.org/dl</a>.</p>
<h1 id="sqlite">SQLite</h1>
<p>Запусти SQLiteBrowser, и выбери пункт &ldquo;New Database&rdquo; в левом верхнем углу интерфейса. После выбора места, где ты создашь файл базы данных, у тебя появится окно для создания первой таблицы в твоей базе данных&hellip; Закрой его! :)</p>
<p>Нам не нужны какие-то окошки &ndash; мы сами уже почти умеем в SQL, надо только попрактиковаться. Открой вкладку &ldquo;Execute SQL&rdquo;.</p>
<p>В этой вкладке ты можешь исполнять любые SQL запросы, и они будут применяться к твоему файлу базы данных.</p>
<p>Перепиши SQL запрос на создание таблицы, который я приводил выше. После этого нажми комбинацию Ctrl+R (или вон тот синий треугольничек), и твой запрос исполнится.</p>
<p>Зайди во вкладку &ldquo;Browse Data&rdquo; &ndash; там ты увидишь свою новосозданную таблицу.</p>
<p>Попробуй:</p>
<ul>
<li>Добавить новые записи в эту таблицу</li>
<li>Изменить существующую запись</li>
<li>Удалить какую-то запись</li>
</ul>
<p>После каждой операции ты можешь заглядывать в &ldquo;Browse Data&rdquo;, чтобы проверить что происходит.</p>
<p>SQLiteBrowser не записывает изменения сразу в файл, а сохраняет их в оперативной памяти. Чтобы применить изменения, тебе надо нажать Ctrl+S (или &ldquo;Write Changes&rdquo; в верхней части окна).</p>
<h1 id="заключение">Заключение</h1>
<p>Из этой статьи ты узнал:</p>
<ul>
<li>SQL</li>
<li>База данных</li>
<li>Запросы
<ul>
<li>SELECT</li>
<li>CREATE TABLE</li>
<li>UPDATE</li>
<li>DELETE</li>
</ul>
</li>
<li>Таблица</li>
<li>Поле</li>
<li>Запись</li>
<li>СУБД</li>
<li>Как работать с SQLite</li>
</ul>
<p>Мне кажется, что это очень супер много полезной информации на сегодня, ты супер!</p>
<p>В следующих статьях я покажу примеры более сложных запросов, которые учитывают данные сразу из нескольких таблиц (JOIN).</p>

    <hr>
    <div align="center">
        <a href="https://kee-reel.com/sql/intro/#top">▲ В начало ▲</a>
    </div>
    

			</section>
		</div>
	</div>

    <footer>
    <hr>
    <div align="center">
        Home server: Raspberry Pi 4<br>
        Temperature: 53<br>
Uptime: 1 hour, 7 minutes
    </div>
</footer>

</body>
</html>

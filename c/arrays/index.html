<!DOCTYPE html>
<html lang="ru">
	<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5">
	<meta name="description" content="IT простым языком">
	<meta name="generator" content="HUGO">

	<meta name="theme-color" content="#ffffff">

    
    <link rel="stylesheet" href="/sass/main.min.2410c89c79b6e042a424a6cef6ba5cbff430844ddffbec9f142931da8c515642.css" integrity="sha256-JBDInHm24EKkJKbO9rpcv/QwhE3f&#43;&#43;yfFCkx2oxRVkI=">
    <title> IT простым языком </title>
</head>

<body>
	<div id="top"/>
<header>
    <div align="center">
        +---------------------------+<br>
        |.-------------------------.|<br>
        ||&nbsp;<a href="/">kee_reel@blog</a>:~$ cd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;||<br>
        ||&nbsp;<a href="/c">c</a>&nbsp;&nbsp;<a href="/cpp">c++</a>&nbsp;&nbsp;<a href="/python">python</a>&nbsp;&nbsp;<a href="/linux">linux</a>&nbsp;&nbsp;&nbsp;||<br>
        ||&nbsp;<a href="/opengl">opengl</a>&nbsp;&nbsp;<a href="/sql">sql</a>&nbsp;&nbsp;<a href="/network">networks</a>&nbsp;&nbsp;&nbsp;||<br>
        ||&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;||<br>
        ||&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="/about">обо_мне</a>&nbsp;||<br>
        |.-------------------------.|<br>
        +-::---------------------::-+<br>
        .---------------------------.<br>
        &nbsp;//&nbsp;/o<a href="/links">o</a>oooooooooooooooooooo\\&nbsp;\\&nbsp;<br>
        &nbsp;//&nbsp;/oooooooooooooooooooooooo\\&nbsp;\\&nbsp;<br>
        //-------------------------------\\<br>
        \\-------------------------------//<br>
    </div>
    <hr>
</header>

		
	<div id="wrapper">
		<div class="container">
			<section id="main_content">
    
    
        <div style="display: flex; justify-content: space-between;">
            
                <a href="https://kee-reel.com/c/pointers/">◀ Указатели</a>
            
            
                <a href="https://kee-reel.com/c/functions/">Функции ▶</a>
            
        </div>
        <hr>
    
    <h1>C. Массивы</h1>
    
    
        <h3>Время чтения: 10 мин</h3>
    
    <p>Массив (array) &ndash; это непрерывная последовательность байт, хранящих множество значений определённого типа.</p>
<p>Проще &ndash; переменная хранит какое-то значение, а массив хранит множество переменных.</p>
<p>В прошлой статье мы со всех сторон рассмотрели указатели &ndash; тут то они нам и пригодятся!</p>
<p>Массив объявляется так:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> arr[<span style="color:#ae81ff">3</span>];
</span></span></code></pre></div><p>Здесь:</p>
<ul>
<li>int &ndash; это тип значений, которые хранятся в массиве</li>
<li>arr &ndash; указатель на первый элемент массива</li>
<li>[3] &ndash; размер массива</li>
</ul>
<p>Прежде чем мы начнём заполнять значения, давай посмотрим как переменная и массив хранятся в памяти:</p>
<p><img src="/assets/images/array-vs-variable.png" alt="Переменная и массив в памяти"></p>
<p>То есть, по сути, массив это просто набор переменных, которые расположены рядом в памяти.</p>
<p>Как ты помнишь из <a href="../pointers">статьи</a> про указатели, к ним можно прибавлять числа, чтобы сдвигать их туда-сюда в памяти.</p>
<p>На иллюстрации я показал, что прибавляя число, можно сдвигаться на первый, второй или третий элемент массива.</p>
<h1 id="заполняем-массив">Заполняем массив</h1>
<p>Давай попробуем что-то записать в этот массив и вывести его значения:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> arr[<span style="color:#ae81ff">3</span>];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">3</span>; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// Заполняем массив: в нулевой элемент записываем 1, в первый двойку, во второй тройку.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#f92672">*</span>(arr<span style="color:#f92672">+</span>i) <span style="color:#f92672">=</span> i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">3</span>; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	printf(<span style="color:#e6db74">&#34;Element %d: %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, i, <span style="color:#f92672">*</span>(arr<span style="color:#f92672">+</span>i));
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* Вывод:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Element 0: 1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Element 1: 2
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Element 2: 3 */</span>
</span></span></code></pre></div><p>Опа, смотри как циклы классно сочетаются с указателями &ndash; они просто созданы друг для друга!</p>
<h1 id="индексы">Индексы</h1>
<p>Чтобы с массивами было проще работать, в язык введены индексы &ndash; ои позволяют сократить запись обращения к элементу массива:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> arr[<span style="color:#ae81ff">3</span>];
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Записыаем 3 в последний элемент массива
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">*</span>(arr<span style="color:#f92672">+</span><span style="color:#ae81ff">2</span>) <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>;
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Делаем то же самое
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>arr[<span style="color:#ae81ff">2</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>;
</span></span></code></pre></div><p>Тут никаких хитростей нет &ndash; нужно просто помнить 3 правила:</p>
<ul>
<li>Указывай только индексы в пределах первого и последнего элемента массива</li>
<li>Индекс первого элемента массива это 0 (нулевое смещение указателя)</li>
<li>Индекс последнего элемента массива это N-1 (N это размер массива)</li>
</ul>
<blockquote>
<p>Если ты нарушишь эти правила, то ты будешь считывать или записывать значения в ячейки памяти, которые могут содержать что угодно.</p>
</blockquote>
<h1 id="пример-использования-массивов">Пример использования массивов</h1>
<p>Задача &ldquo;Месячная температура&rdquo;</p>
<ul>
<li>Считать размер массива и заполнить его целочисленными значениями</li>
<li>Посчитать среднее арифметическое элементов массива (средняя температура)</li>
<li>Вывести максимальный и минимальный элементы массива (максимальная и минимальная температура)</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">// 31 потому что это максимально возможное количество дней в месяце
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> temperature[<span style="color:#ae81ff">31</span>];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> days;
</span></span><span style="display:flex;"><span>scanf(<span style="color:#e6db74">&#34;%d&#34;</span>, <span style="color:#f92672">&amp;</span>days);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(days <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">||</span> days <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">31</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	printf(<span style="color:#e6db74">&#34;Incorrect days amount!</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> days; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// Сообщаем для какого дня вводим значение (+1 чтобы дни начинались с 1)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	printf(<span style="color:#e6db74">&#34;Day %d temperature: &#34;</span>, i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// Ничего не разыменовываем, потому что в scanf нам нужно указывать адрес
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	scanf(<span style="color:#e6db74">&#34;%d&#34;</span>, temperature<span style="color:#f92672">+</span>i);
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// Ещё это можно записать так (этот вариант даже предпочтительнее):
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#75715e">// scanf(&#34;%d&#34;, &amp;temperature[i]);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">double</span> average <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> min, max;
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Заполняем первым значением из массива, чтобы потом уже с ним сравнивать
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>min <span style="color:#f92672">=</span> max <span style="color:#f92672">=</span> temperature[<span style="color:#ae81ff">0</span>];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> days; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// Временная переменная, чтобы сократить запись в следующих операциях
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#66d9ef">int</span> temp <span style="color:#f92672">=</span> temperature[i];
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// Ищем минимальное и максимальное значение
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	min <span style="color:#f92672">=</span> min <span style="color:#f92672">&gt;</span> temp <span style="color:#f92672">?</span> temp : min;
</span></span><span style="display:flex;"><span>	max <span style="color:#f92672">=</span> max <span style="color:#f92672">&lt;</span> temp <span style="color:#f92672">?</span> temp : max;
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// Суммируем среднюю температуру...
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	average <span style="color:#f92672">+=</span> temp;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ... чтобы поделить её на количество дней
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>average <span style="color:#f92672">/=</span> days;
</span></span><span style="display:flex;"><span>printf(<span style="color:#e6db74">&#34;Average temperature: %.1lf</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Min temperature: %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Max temperature: %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,
</span></span><span style="display:flex;"><span>	average, min, max);
</span></span></code></pre></div><h1 id="многомерные-массивы">Многомерные массивы</h1>
<p>До этого я показывал работу только с одномерным массивом, но вообще они бывают двух-, трёх-, четырёх- и сколькохочешь-мерными.</p>
<p>А зачем? Иногда возникают задачи, когда тебе необходимо хранить сразу несолько наборов данных.</p>
<p>Вот например &ndash; в задаче выше мне надо было хранить температуру по каждому дню месяца. А что, если мне надо было бы хранить температуру по каждому дню месяца в течении года &ndash; то есть 12 массивов на каждый месяц? Вот в этой ситуации мне бы и пригодился двумерный массив.</p>
<p>Чуть ниже я напишу изменённую программу, которая работает со всеми месяцами, а пока покажу как работать с многомерными массивами:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> arr[<span style="color:#ae81ff">3</span>][<span style="color:#ae81ff">2</span>];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">3</span>; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; j <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">2</span>; j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		scanf(<span style="color:#e6db74">&#34;%d&#34;</span>, <span style="color:#f92672">&amp;</span>arr[i][j]);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">3</span>; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; j <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">2</span>; j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		printf(<span style="color:#e6db74">&#34;Element [%d][%d]: %d = %d = %d = %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, i, j, 
</span></span><span style="display:flex;"><span>				arr[i][j],
</span></span><span style="display:flex;"><span>				<span style="color:#f92672">*</span>(arr[i] <span style="color:#f92672">+</span> j),
</span></span><span style="display:flex;"><span>				<span style="color:#f92672">*</span>(<span style="color:#f92672">*</span>(arr <span style="color:#f92672">+</span> i) <span style="color:#f92672">+</span> j),
</span></span><span style="display:flex;"><span>				<span style="color:#f92672">*</span>((<span style="color:#66d9ef">int</span><span style="color:#f92672">*</span>)arr <span style="color:#f92672">+</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">*</span>i <span style="color:#f92672">+</span> j));
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* Вывод (я ввёл значения 1 2 3 4 5 6):
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Element [0][0]: 1 = 1 = 1 = 1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Element [0][1]: 2 = 2 = 2 = 2
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Element [1][0]: 3 = 3 = 3 = 3
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Element [1][1]: 4 = 4 = 4 = 4
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Element [2][0]: 5 = 5 = 5 = 5
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Element [2][1]: 6 = 6 = 6 = 6 */</span>
</span></span></code></pre></div><p>Эмммм&hellip; Что это за чёрная магия там в выводе?</p>
<p>Сейчас объясню!</p>
<p>По сути, многомерные массивы в памяти выглядят точно так же, как и одномерные:</p>
<p><img src="/assets/images/arrays-dimensions.png" alt="Многомерный массив"></p>
<p>Вся разница лишь в том, что ты можешь первым индексом перескакивать между массивами, а вторым индексом перескакивать между элементами массивов.</p>
<p>А на счёт чёрной магии &ndash; ты же не забыл что индекс это просто сокращённая запись разыменования?</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> arr[<span style="color:#ae81ff">3</span>][<span style="color:#ae81ff">2</span>];
</span></span><span style="display:flex;"><span>arr[i][j] <span style="color:#f92672">==</span> <span style="color:#f92672">*</span>( <span style="color:#f92672">*</span>(arr <span style="color:#f92672">+</span> i) <span style="color:#f92672">+</span> j )
</span></span></code></pre></div><p>Окей, а почему мы к arr прибавляем число, а потом разыменовываем его?</p>
<p>Прикол в том, что arr &ndash; это не простой указатель, как в случае с одномерным массивом &ndash; arr это указатель на массив с размером 2.</p>
<p>Поэтому, когда мы прибавляем число к этому указателю, он смещается на (размер массива * размер элемента массива) байт:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">// Смещаем arr на 8 байт вправо = 2 (размер массива) * 4 (размер int)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>arr <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
</span></span></code></pre></div><p>Если мы разыменуем его, то получим второй массив &ndash; указатель на его первый элемент:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#f92672">*</span>(arr <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">// То же самое что
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>arr[<span style="color:#ae81ff">1</span>]
</span></span></code></pre></div><p>А чтобы получить значение элемента массива, мы уже вспоминаем как работали с одномерными массивами:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#f92672">*</span>( <span style="color:#f92672">*</span>(arr <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> )
</span></span><span style="display:flex;"><span><span style="color:#75715e">// То же самое что
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>arr[<span style="color:#ae81ff">1</span>][<span style="color:#ae81ff">1</span>]
</span></span></code></pre></div><p>Всё то же самое можно провернуть и с обычным указателем, но тогда нам надо самим следить, что мы правильно переходим между массивами (домножать индекс на размер массива):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#f92672">*</span>((<span style="color:#66d9ef">int</span><span style="color:#f92672">*</span>)arr <span style="color:#f92672">+</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">*</span>i <span style="color:#f92672">+</span> j))
</span></span></code></pre></div><blockquote>
<p>Если использовать последний способ с обычным указателем, то можно даже не париться с многомерными массивами, а хранить многомерные данные в одномерном массиве (но так обычно не делают).</p>
</blockquote>
<p>Трёхмерные массивы не сильно отличаются от двумерных &ndash; просто там добавляется ещё один слой указателей:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> arr[<span style="color:#ae81ff">3</span>][<span style="color:#ae81ff">4</span>][<span style="color:#ae81ff">5</span>];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// int элемент
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>arr[<span style="color:#ae81ff">1</span>][<span style="color:#ae81ff">2</span>][<span style="color:#ae81ff">3</span>] <span style="color:#f92672">==</span> <span style="color:#f92672">*</span>( <span style="color:#f92672">*</span>( <span style="color:#f92672">*</span>(arr <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">+</span> <span style="color:#ae81ff">2</span> ) <span style="color:#f92672">+</span> <span style="color:#ae81ff">3</span> )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Указатель на массив из 5-ти int элементов
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>arr[<span style="color:#ae81ff">1</span>][<span style="color:#ae81ff">2</span>] <span style="color:#f92672">==</span> <span style="color:#f92672">*</span>( <span style="color:#f92672">*</span>(arr <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">+</span> <span style="color:#ae81ff">2</span> )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Указатель на массив из 4-х элементов,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// где каждый из элементов это массив из 5-ти int элементов
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>arr[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">==</span> <span style="color:#f92672">*</span>(arr <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Указатель на массив из 3-х элементов,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// где каждый элемент это массив из 4-х элементов,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// где каждый из элементов это массив из 5-ти int элементов
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>arr 
</span></span></code></pre></div><h1 id="пример-использования-многомерных-массивов">Пример использования многомерных массивов</h1>
<p>Как и обещал &ndash; переписываю программу под многомерный массив:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> temperature[<span style="color:#ae81ff">12</span>][<span style="color:#ae81ff">31</span>];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> months, days;
</span></span><span style="display:flex;"><span>scanf(<span style="color:#e6db74">&#34;%d&#34;</span>, <span style="color:#f92672">&amp;</span>months);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(months <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">||</span> months <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">12</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	printf(<span style="color:#e6db74">&#34;Incorrect months amount!</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>scanf(<span style="color:#e6db74">&#34;%d&#34;</span>, <span style="color:#f92672">&amp;</span>days);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(days <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">||</span> days <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">31</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	printf(<span style="color:#e6db74">&#34;Incorrect days amount!</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> months; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	printf(<span style="color:#e6db74">&#34;Month %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; j <span style="color:#f92672">&lt;</span> days; j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		printf(<span style="color:#e6db74">&#34;Day %d temperature: &#34;</span>, i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>		scanf(<span style="color:#e6db74">&#34;%d&#34;</span>, <span style="color:#f92672">&amp;</span>temperature[i][j]);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">double</span> average <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> min, max;
</span></span><span style="display:flex;"><span>min <span style="color:#f92672">=</span> max <span style="color:#f92672">=</span> temperature[<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">0</span>];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> months; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; j <span style="color:#f92672">&lt;</span> days; j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">int</span> temp <span style="color:#f92672">=</span> temperature[i][j];
</span></span><span style="display:flex;"><span>		min <span style="color:#f92672">=</span> min <span style="color:#f92672">&gt;</span> temp <span style="color:#f92672">?</span> temp : min;
</span></span><span style="display:flex;"><span>		max <span style="color:#f92672">=</span> max <span style="color:#f92672">&lt;</span> temp <span style="color:#f92672">?</span> temp : max;
</span></span><span style="display:flex;"><span>		average <span style="color:#f92672">+=</span> temp;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>average <span style="color:#f92672">/=</span> months <span style="color:#f92672">*</span> days;
</span></span><span style="display:flex;"><span>printf(<span style="color:#e6db74">&#34;Average temperature: %.1lf</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Min temperature: %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Max temperature: %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,
</span></span><span style="display:flex;"><span>	average, min, max);
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* Ввод:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">2
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">2
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Month 1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Day 1 temperature: 4
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Day 1 temperature: 5
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Month 2
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Day 2 temperature: 11
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Day 2 temperature: -10
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Вывод:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Average temperature: 2.5
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Min temperature: -10
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Max temperature: 11 */</span>
</span></span></code></pre></div><h1 id="динамические-массивы">Динамические массивы</h1>
<p>До этого я показал как работать со статическими массивами &ndash; то есть мы знаем на момент написания программы, сколько максимально он будет занимать памяти.</p>
<p>Однако, иногда ты:</p>
<ul>
<li>Не можешь предположить максимальный размер массива</li>
<li>Хочешь сэкономить память и использовать столько, сколько нужно</li>
</ul>
<p>В этом случае надо использовать динамические массивы:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> size;
</span></span><span style="display:flex;"><span>scanf(<span style="color:#e6db74">&#34;%d&#34;</span>, <span style="color:#f92672">&amp;</span>size);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>arr <span style="color:#f92672">=</span> (<span style="color:#66d9ef">int</span><span style="color:#f92672">*</span>)malloc(size <span style="color:#f92672">*</span> <span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>));
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(arr <span style="color:#f92672">==</span> NULL)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	printf(<span style="color:#e6db74">&#34;Can&#39;t allocate %d bytes</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, size);
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> size; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	scanf(<span style="color:#e6db74">&#34;%d&#34;</span>, <span style="color:#f92672">&amp;</span>arr[i]);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>В этой программе я считываю размер массива, выделяю под него память и заполняю его значениями.</p>
<p>А как я выделяю память, что это за malloc?</p>
<h3 id="malloc">malloc</h3>
<p><strong>malloc</strong> &ndash; это функция, содержащаяся в &ldquo;stdlib.h&rdquo;. Она:</p>
<ul>
<li>Обращается к операционной системе, и запрашивает выделение указанного количества байт (в программе я указал size * размер int)</li>
<li>Если операционная система может выделить такое количество байт, то функция возвращает указатель на первый байт выделенного блока памяти (возвращается указатель типа <code>void*</code>, поэтому я его явно привожу к <code>int*</code>)</li>
<li>Если операционная система не может выделить такое количество байт, то функция возвращает NULL (по сути, это нулевой адрес)</li>
<li><strong>НЕ заполняет</strong> память нулями &ndash; в памяти останется то, что там было перед этим</li>
</ul>
<blockquote>
<p>Обычно malloc справляется со своей задачей, и NULL возвращается только в исключительных ситуациях. В учебных целях можешь не проверять результат на NULL, но при разработке серьёзного ПО, от которого могу зависеть жизни людей &ndash; проверка <strong>обязательна</strong>.</p>
</blockquote>
<h3 id="calloc">calloc</h3>
<p>Кроме malloc, есть ещё функция <strong>calloc</strong> &ndash; делает почти то же самое, но со следующими отличиями:</p>
<ul>
<li>В параметрах отдельно указывается размер массива и размер элемента массива</li>
<li>calloc <strong>ЗАПОЛНЯЕТ</strong> нулями выделяемую память</li>
</ul>
<p>Вот пример его использования (не сильно отличается):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> size;
</span></span><span style="display:flex;"><span>scanf(<span style="color:#e6db74">&#34;%d&#34;</span>, <span style="color:#f92672">&amp;</span>size);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>arr <span style="color:#f92672">=</span> (<span style="color:#66d9ef">int</span><span style="color:#f92672">*</span>)calloc(size, <span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>));
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(arr <span style="color:#f92672">==</span> NULL)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	printf(<span style="color:#e6db74">&#34;Can&#39;t allocate %d bytes</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, size);
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> size; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	scanf(<span style="color:#e6db74">&#34;%d&#34;</span>, <span style="color:#f92672">&amp;</span>arr[i]);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="free">free</h3>
<p>После того как ты выделил память, её необходимо освободить &ndash; операционная система этого сама не сделает пока программа не завершится.</p>
<blockquote>
<p>Ситуация, в которой выделенная память не освобождается, называется <strong>утечкой памяти</strong>. В большистве случаев это приводит к падению программы, так как запущенная программа захватывает всю оперативную память компьютера, и не может получить больше.</p>
</blockquote>
<p>Для освобождения памяти есть функция free. Вот как она используется:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> size;
</span></span><span style="display:flex;"><span>scanf(<span style="color:#e6db74">&#34;%d&#34;</span>, <span style="color:#f92672">&amp;</span>size);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#f92672">*</span>arr <span style="color:#f92672">=</span> (<span style="color:#66d9ef">int</span><span style="color:#f92672">*</span>)calloc(size, <span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>));
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(arr <span style="color:#f92672">==</span> NULL)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	printf(<span style="color:#e6db74">&#34;Can&#39;t allocate %d bytes</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, size);
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> size; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	scanf(<span style="color:#e6db74">&#34;%d&#34;</span>, <span style="color:#f92672">&amp;</span>arr[i]);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>free(arr);
</span></span></code></pre></div><h3 id="всегда-всегда-всегд-помни----операционная-система-даёт-твоей-программе-оперативную-память-в-долг-а-долги-надо-возвращать">Всегда-всегда-всегд помни &ndash; операционная система даёт твоей программе оперативную память в долг, а долги надо возвращать.</h3>
<h1 id="пример-использования-динамического-многомерного-массива">Пример использования динамического многомерного массива</h1>
<p>И ещё раз я перепишу программу, чтобы показать как работать с динамической памятью в случае многомерных массивов:</p>
<blockquote>
<p>Здесь будут использованы указатели на указатели &ndash; если забыл что это такое, то можешь освежить в памяти <a href="../pointers">статью</a> по указателям.</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span><span style="color:#f92672">**</span> temperature;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> months, days;
</span></span><span style="display:flex;"><span>scanf(<span style="color:#e6db74">&#34;%d&#34;</span>, <span style="color:#f92672">&amp;</span>months);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(months <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">||</span> months <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">12</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	printf(<span style="color:#e6db74">&#34;Incorrect months amount!</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>scanf(<span style="color:#e6db74">&#34;%d&#34;</span>, <span style="color:#f92672">&amp;</span>days);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(days <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">||</span> days <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">31</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	printf(<span style="color:#e6db74">&#34;Incorrect days amount!</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Выделяем память под массив int* указателей
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>temperature <span style="color:#f92672">=</span> (<span style="color:#66d9ef">int</span><span style="color:#f92672">**</span>)calloc(months, <span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span><span style="color:#f92672">*</span>));
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(temperature <span style="color:#f92672">==</span> NULL)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> months; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// Выделяем память под массив int значений, 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#75715e">// и записываем адрес на эту память в указатель
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	temperature[i] <span style="color:#f92672">=</span> (<span style="color:#66d9ef">int</span><span style="color:#f92672">*</span>)calloc(days, <span style="color:#66d9ef">sizeof</span>(<span style="color:#66d9ef">int</span>));
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span>(temperature[i] <span style="color:#f92672">==</span> NULL)
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">// Освобождаем все массивы int значений, что успели выделиться
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>		<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; j <span style="color:#f92672">&lt;</span> i; j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>			free(temperature[j]);
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">// Освобождаем массив int* указателей
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>		free(temperature);
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> months; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	printf(<span style="color:#e6db74">&#34;Month %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; j <span style="color:#f92672">&lt;</span> days; j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		printf(<span style="color:#e6db74">&#34;Day %d temperature: &#34;</span>, i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>		scanf(<span style="color:#e6db74">&#34;%d&#34;</span>, <span style="color:#f92672">&amp;</span>temperature[i][j]);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">double</span> average <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> min, max;
</span></span><span style="display:flex;"><span>min <span style="color:#f92672">=</span> max <span style="color:#f92672">=</span> temperature[<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">0</span>];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> months; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; j <span style="color:#f92672">&lt;</span> days; j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">int</span> temp <span style="color:#f92672">=</span> temperature[i][j];
</span></span><span style="display:flex;"><span>		min <span style="color:#f92672">=</span> min <span style="color:#f92672">&gt;</span> temp <span style="color:#f92672">?</span> temp : min;
</span></span><span style="display:flex;"><span>		max <span style="color:#f92672">=</span> max <span style="color:#f92672">&lt;</span> temp <span style="color:#f92672">?</span> temp : max;
</span></span><span style="display:flex;"><span>		average <span style="color:#f92672">+=</span> temp;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>average <span style="color:#f92672">/=</span> months <span style="color:#f92672">*</span> days;
</span></span><span style="display:flex;"><span>printf(<span style="color:#e6db74">&#34;Average temperature: %.1lf</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Min temperature: %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Max temperature: %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,
</span></span><span style="display:flex;"><span>	average, min, max);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> months; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// Освобождаем память, выделенную под массив int значений
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	free(temperature[i]);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Освобождаем память, выделенную под массив int* указателей
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>free(temperature);
</span></span></code></pre></div><h1 id="заключение">Заключение</h1>
<p>Итого, ты узнал что такое:</p>
<ul>
<li>Массив (множество переменных)</li>
<li>Одномерные массивы</li>
<li>Индексы (сокращённая запись разыменования)</li>
<li>Многомерный массив (массив массивов)</li>
<li>Динамические массивы (выделяем и освобождаем столько памяти, сколько нужно)</li>
</ul>

    <hr>
    <div align="center">
        <a href="https://kee-reel.com/c/arrays/#top">▲ В начало ▲</a>
    </div>
    
        <hr>
        <div style="display: flex; justify-content: space-between;">
            
                <a href="https://kee-reel.com/c/pointers/">◀ Указатели</a>
            
            
                <a href="https://kee-reel.com/c/functions/">Функции ▶</a>
            
        </div>
    

			</section>
		</div>
	</div>

    <footer>
    <hr>
    <div align="center">
        Home server: Raspberry Pi 4<br>
        Temperature: 53<br>
Uptime: 1 hour, 7 minutes
    </div>
</footer>

</body>
</html>
